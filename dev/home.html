<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/theme/style.css">
    <link id="themesheet" rel="stylesheet" href="assets/theme/light.css">
    <title>Jornal EcoTirso</title>
    <meta name="title" content="EcoTirso">
    <meta name="description" content="News about environmental issues of Santo Tirso">
    <meta name="keywords" content="Santo Tirso, Environment, Environmental issues">
    <meta name="robots" content="index, nofollow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="Portuguese">
    <meta name="revisit-after" content="7 days">
    <meta name="author" content="Goncermor, Juan Torres, Hugo Silva, Mathéo Carneiro">
    <script>
        let links = ["assets/theme/light.css", "assets/theme/dark.css"];
        let currentIndex = 0;
        let icons_themes = ["assets/img/icons/moon.svg", "assets/img/icons/sun.svg"];
        let currentIcon = 0;


        window.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('https://goncermor.loca.lt/dev/api/latest.php');
                const data = await response.json();
                console.log(data);

                document.getElementById('titulo_noticia_1').innerText = data.articles[0].title;
                document.getElementById('descricao_noticia_1').innerText = data.articles[0].description;
                document.getElementById('imagem_noticia_1').src = data.articles[0].cover;

                let formattedDate = new Date(data.articles[0].date * 1).toLocaleString('pt-PT', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('data_noticia_1').innerText = formattedDate;

                document.getElementById('titulo_noticia_2').innerText = data.articles[1].title;
                document.getElementById('descricao_noticia_2').innerText = data.articles[1].description;
                document.getElementById('imagem_noticia_2').src = data.articles[1].cover;

                formattedDate = new Date(data.articles[1].date * 1).toLocaleString('pt-PT', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('data_noticia_2').innerText = formattedDate;

                document.getElementById('titulo_noticia_3').innerText = data.articles[2].title;
                document.getElementById('descricao_noticia_3').innerText = data.articles[2].description;
                document.getElementById('imagem_noticia_3').src = data.articles[2].cover;

                formattedDate = new Date(data.articles[2].date * 1).toLocaleString('pt-PT', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('data_noticia_3').innerText = formattedDate;

                document.getElementById('titulo_noticia_4').innerText = data.articles[3].title;
                document.getElementById('descricao_noticia_4').innerText = data.articles[3].description;
                document.getElementById('imagem_noticia_4').src = data.articles[3].cover;

                formattedDate = new Date(data.articles[3].date * 1).toLocaleString('pt-PT', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                document.getElementById('data_noticia_4').innerText = formattedDate;
            } catch (error) {
                console.error('Erro ao buscar os dados:', error);
            }
        });



        function cssChange() {
            currentIndex = (currentIndex + 1) % links.length;
            document.getElementById("themesheet").href = links[currentIndex];
            currentIcon = (currentIcon + 1) % icons_themes.length;
            document.getElementById("moon").src = icons_themes[currentIcon];

        }


        function changepage(page) {

            fetch(page)
                .then(x => x.text())
                .then(y => document.getElementById("content_page").innerHTML = y);

        }

    </script>
</head>

<body>
    <ul class="nav">
        <li style="top: 28px;">
            <img src="assets/img/logo/Logo Black.png" class="logo_nav" alt="Logo Black">
        </li>
        <li style="top: 195px;">
            <a href="home.html">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="black" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon_nav">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                    <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                    <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
                </svg>


                <p>Home</p>
            </a>
        </li>
        <li style="top: 215px;">
            <a href="#" onclick="changepage('Search.html')">

                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                    class="icon_nav">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                    <path d="M21 21l-6 -6" />
                </svg>

                <p>Search</p>
            </a>
        </li>
        <li style="top: 235px;">
            <a href="#" onclick="changepage('Developers.html')">

                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                    class="icon_nav">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
                    <path
                        d="M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25" />
                    <path d="M12.5 15.5l2 2" />
                    <path d="M15 13l2 2" />
                </svg>

                <p>Developers</p>
            </a>
        </li>
        <li style="bottom: -56.5%;">
            <a href="#" onclick="cssChange()">
                <img src="assets/img/icons/moon.svg" alt="moon icon" class="icon_nav" id="moon">
            </a>
        </li>
    </ul>
    <div class="principal" id="content_page">
        <div id="news-container">
            <div class="news-item large">
                <a href="google.com"><h3 id="titulo_noticia_1"></h3></a>
                <p id="descricao_noticia_1"></p>
                <img id="imagem_noticia_1" src="" alt="Imagem da Notícia 1" class="news-image">
                <p id="data_noticia_1"></p>
            </div>
            <div class="small-news-container">
                <div class="news-item small">
                    <img id="imagem_noticia_2" src="path/to/image2.jpg" alt="Imagem da Notícia 2"
                        class="news-image small-image">
                    <h3 id="titulo_noticia_2"></h3>
                    <p id="descricao_noticia_2"></p>
                    <p id="data_noticia_2"></p>
                </div>
                <div class="news-item small">
                    <img id="imagem_noticia_3" src="path/to/image3.jpg" alt="Imagem da Notícia 3"
                        class="news-image small-image">
                    <h3 id="titulo_noticia_3"></h3>
                    <p id="descricao_noticia_3"></p>
                    <p id="data_noticia_3"></p>
                </div>
                <div class="news-item small">
                    <img id="imagem_noticia_4" src="path/to/image4.jpg" alt="Imagem da Notícia 4"
                        class="news-image small-image">
                    <h3 id="titulo_noticia_4"></h3>
                    <p id="descricao_noticia_4"></p>
                    <p id="data_noticia_4"></p>
                </div>
            </div>
        </div>

        <div class="Circle_Blur" style="top: 0px; left: 70px; transform: translate(-20%,-20%)"></div>
        <div class="Circle_Blur" style="bottom: 0px; right:0px; transform: translate(20%,20%);"></div>
        <div class="window_blur" style="top: -89.1%;"></div>

        <div class="box" id="title_box">
            <p style=" position: relative; font-size: 7.8vh;   line-height: 1; width: 95%; height: 65%; left: 5%;"
                id="title"></p>
            <p style=" position: relative; font-size: 4.2vh; line-height: 1; width: 95%; height: 35%; left: 5%;"
                id="Author_data"></p>
        </div>

        <div class="box" id="content_box">
            <p style="position: relative; width: 100%; height: 100%; font-size: 18px; text-align: left;" id="content">
            </p>
        </div>

        <div class="box" id="img_box"></div>
    </div>

</body>

</html>